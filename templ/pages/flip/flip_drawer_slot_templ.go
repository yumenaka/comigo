// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.865
package flip

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

import (
	"fmt"
	"net/url"

	"github.com/yumenaka/comigo/model"
	"github.com/yumenaka/comigo/templ/state"
)

func FlipDrawerSlot(s *state.GlobalState, book *model.Book) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		if book != nil && book.Type == model.TypePDF {
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<!-- PDF【在浏览器中打开】 --> <a type=\"button\" target=\"_blank\" x-text=\"i18next.t(&#39;open_pdf_in_browser&#39;)\" href=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var2 templ.SafeURL = templ.SafeURL(fmt.Sprintf("/api/raw/%s/%s", book.BookID, url.QueryEscape(book.Title)))
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(string(templ_7745c5c3_Var2)))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 2, "\" class=\"px-3 py-2 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800\">用浏览器打开PDF</a>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 3, "<!-- 切换【卷轴模式/翻页模式】的toggle--><label class=\"inline-flex items-center w-full my-2.5 cursor-pointer outline-offset-4 outline-double outline-2 hover:outline-3 rounded-sm\"><input type=\"checkbox\" x-bind=\"$store.global.readModeIsScroll\" x-on:change=\"$store.global.toggleReadMode();toggleFlipScrollFlexible();\" class=\"sr-only peer\"><div class=\"relative w-11 h-6 bg-green-600 rounded-full peer peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[&#39;&#39;] after:absolute after:top-0.5 after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600\"></div><span class=\"font-medium ms-3\" x-text=\"$store.global.readModeIsScroll?i18next.t(&#39;scroll_mode&#39;)+i18next.t(&#39;click_to_toggle&#39;):i18next.t(&#39;flip_mode&#39;)+i18next.t(&#39;click_to_toggle&#39;)\"></span></label><script>\n    \tfunction toggleFlipScrollFlexible() {\n    \t        // 切换阅读模式时，如果在阅读，就修改URL路径\n                const currentUrl = new URL(window.location.href);\n                const pathname = currentUrl.pathname;\n                // 定义匹配 /flip/<id> 或 /scroll/<id> 的正则表达式，允许它们出现在路径的任意位置\n                const pattern = /\\/(flip|scroll)\\/([^/]+)/;\n                const match = pathname.match(pattern);\n                if (match) {\n                    const currentSegment = match[1]; // 'flip' 或 'scroll'\n                    const id = match[2]; // <id> 部分\n                    const newSegment = currentSegment === 'flip' ? 'scroll' : 'flip';\n                    const newPath = pathname.replace(`/` + currentSegment + `/` + id, `/${newSegment}/${id}`);\n                    // 如果路径发生了变化，更新URL\n                    if (currentUrl.pathname !== newPath) {\n                        currentUrl.pathname = newPath;\n                        window.location.href = currentUrl.toString();\n                    }\n                }\n        }\n    </script><!-- 远程同步翻页 --><!-- toggle组件来自： https://flowbite.com/docs/forms/toggle/ --><label class=\"inline-flex items-center w-full my-2.5 cursor-pointer outline-offset-4 outline-double outline-2 hover:outline-3 rounded-sm\"><input type=\"checkbox\" :value=\"$store.global.syncPageByWS\" x-on:click=\"$store.global.syncPageByWS =!$store.global.syncPageByWS\" class=\"sr-only peer\"><div class=\"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[&#39;&#39;] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600\"></div><span class=\"font-medium ms-3\" x-text=\"i18next.t(&#39;sync_page&#39;)\"></span></label><!-- 保存阅读进度 SaveReadingProgress --><label class=\"inline-flex items-center w-full my-2.5 cursor-pointer outline-offset-4 outline-double outline-2 hover:outline-3 rounded-sm\"><input type=\"checkbox\" :value=\"$store.flip.saveReadingProgress\" x-on:click=\"$store.flip.saveReadingProgress =!$store.flip.saveReadingProgress\" class=\"sr-only peer\"><div class=\"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[&#39;&#39;] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600\"></div><span class=\"font-medium ms-3\" x-text=\"i18next.t(&#39;save_page_num&#39;)\"></span></label><!-- 是否【滑动翻页】 --><label class=\"inline-flex items-center w-full my-2.5 cursor-pointer outline-offset-4 outline-double outline-2 hover:outline-3 rounded-sm\"><input type=\"checkbox\" x-model=\"$store.flip.swipeTurn\" x-on:click=\"$store.flip.swipeTurn =!$store.flip.swipeTurn\" class=\"sr-only peer\" checked><div class=\"relative w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[&#39;&#39;] after:absolute after:top-0.5 after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600\"></div><span class=\"font-medium ms-3\" x-text=\"i18next.t(&#39;swipe_turn&#39;)\"></span></label><!-- 日漫模式（右开本）  --><label class=\"inline-flex items-center w-full my-2.5 cursor-pointer outline-offset-4 outline-double outline-2 hover:outline-3 rounded-sm\"><input type=\"checkbox\" :value=\"$store.flip.mangaMode\" x-on:click=\"$store.flip.mangaMode =!$store.flip.mangaMode\" x-init=\"$watch(&#39;$store.flip.mangaMode&#39;, _ =&gt; setImageSrc())\" class=\"sr-only peer\"><div class=\"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[&#39;&#39;] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600\"></div><span class=\"font-medium ms-3\" x-text=\"$store.flip.mangaMode?i18next.t(&#39;manga_mode&#39;):i18next.t(&#39;comic_mode&#39;)\"></span></label><!-- 单页模式  --><label class=\"inline-flex items-center w-full my-2.5 cursor-pointer outline-offset-4 outline-double outline-2 hover:outline-3 rounded-sm\"><input type=\"checkbox\" :value=\"$store.flip.doublePageMode\" x-on:click=\"$store.flip.doublePageMode =!$store.flip.doublePageMode\" x-init=\"$watch(&#39;$store.flip.doublePageMode&#39;, _ =&gt; setImageSrc())\" class=\"sr-only peer\"><div class=\"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[&#39;&#39;] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600\"></div><span class=\"font-medium ms-3\" x-text=\"$store.flip.doublePageMode?i18next.t(&#39;double_page_mode&#39;):i18next.t(&#39;single_page_mode&#39;)\"></span></label><!-- 显示页数  --><label class=\"inline-flex items-center w-full my-2.5 cursor-pointer outline-offset-4 outline-double outline-2 hover:outline-3 rounded-sm\"><input type=\"checkbox\" :value=\"$store.flip.showPageNum\" x-on:click=\"$store.flip.showPageNum =!$store.flip.showPageNum\" class=\"sr-only peer\"><div class=\"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[&#39;&#39;] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600\"></div><span class=\"font-medium ms-3\" x-text=\"i18next.t(&#39;showPageNum&#39;)\"></span></label><!-- 【压缩图片】 --><label class=\"inline-flex items-center w-full my-2.5 cursor-pointer outline-offset-4 outline-double outline-2 hover:outline-3 rounded-sm\"><input type=\"checkbox\" :value=\"$store.global.autoResize\" x-on:click=\"$store.global.autoResize =!$store.global.autoResize;\" x-init=\"$watch(&#39;$store.global.autoResize&#39;, _ =&gt; setImageSrc())\" class=\"sr-only peer\"><div class=\"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[&#39;&#39;] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600\"></div><span class=\"font-medium ms-3\" x-text=\"i18next.t(&#39;compress_image&#39;)\"></span></label><!-- 【压缩图片:宽度】 --><div x-show=\"$store.global.autoResize\" x-transition class=\"relative w-full my-2 rounded-sm outline-offset-4 outline-double outline-2 hover:outline-3 \"><label for=\"autoResizeWidth\" class=\"block w-full mb-0 font-medium\" x-text=\"i18next.t(&#39;limit_width&#39;) + $store.global.autoResizeWidth +&#39; px&#39;\"></label> <input id=\"autoResizeWidth\" type=\"range\" min=\"200\" max=\"2000\" x-model=\"$store.global.autoResizeWidth\" x-init=\"$watch(&#39;$store.global.autoResizeWidth&#39;, _ =&gt; setImageSrc())\" step=\"100\" class=\"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700\"></div><!-- 【自动切边】 --><label class=\"inline-flex items-center w-full my-2.5 cursor-pointer outline-offset-4 outline-double outline-2 hover:outline-3 rounded-sm\"><input type=\"checkbox\" :value=\"$store.global.autoCrop\" x-on:click=\"$store.global.autoCrop =!$store.global.autoCrop;\" x-init=\"$watch(&#39;$store.global.autoCrop&#39;, _ =&gt; setImageSrc())\" class=\"sr-only peer\"><div class=\"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[&#39;&#39;] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600\"></div><span class=\"font-medium ms-3\" x-text=\"i18next.t(&#39;auto_crop&#39;)\"></span></label><!-- 【切边阈值】 --><div x-show=\"$store.global.autoCrop\" x-transition class=\"relative w-full my-2 rounded-sm outline-offset-4 outline-double outline-2 hover:outline-3\"><label for=\"autoCropNum\" class=\"block w-full mb-0 font-medium\" x-text=\"i18next.t(&#39;auto_crop_num&#39;) + $store.global.autoCropNum\" x-init=\"$watch(&#39;$store.global.autoCropNum&#39;, _ =&gt; setImageSrc())\"></label> <input id=\"autoCropNum\" type=\"range\" min=\"1\" max=\"40\" x-model=\"$store.global.autoCropNum\" x-init=\"$watch(&#39;$store.global.autoCrop&#39;, _ =&gt; setImageSrc())\" step=\"1\" class=\"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700\"></div><!-- 自动隐藏工具栏  --><label class=\"inline-flex items-center w-full my-2.5 cursor-pointer outline-offset-4 outline-double outline-2 hover:outline-3 rounded-sm\"><input type=\"checkbox\" :value=\"$store.flip.autoHideToolbar\" x-on:click=\"$store.flip.autoHideToolbar =!$store.flip.autoHideToolbar;showToolbar();\" class=\"sr-only peer\"><div class=\"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[&#39;&#39;] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600\"></div><span class=\"font-medium ms-3\" x-text=\"i18next.t(&#39;auto_hide_toolbar&#39;)\"></span></label><!-- 自动对齐  --><label class=\"inline-flex items-center w-full my-2.5 cursor-pointer outline-offset-4 outline-double outline-2 hover:outline-3 rounded-sm\"><input type=\"checkbox\" :value=\"$store.flip.autoAlign\" x-on:click=\"$store.flip.autoAlign =!$store.flip.autoAlign;\" class=\"sr-only peer\"><div class=\"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[&#39;&#39;] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600\"></div><span class=\"font-medium ms-3\" x-text=\"i18next.t(&#39;auto_align&#39;)\"></span></label>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

var _ = templruntime.GeneratedTemplate
