// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.865
package flip

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

import (
	"fmt"
	"github.com/yumenaka/comigo/assets"
	"github.com/yumenaka/comigo/model"
	"github.com/yumenaka/comigo/templ/state"
)

func InsertData(bookData any, stateData any) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templ.JSONScript("NowBook", bookData).Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templ.JSONScript("GlobalState", stateData).Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

// ImageXData 在Go函数里面计算图片的x-data属性。渲染结果例：
// x-data="{  isDoublePage: false, imageUrl: '/api/get_file?id=asxScIDD&filename=1.jpg' + ($store.global.autoCrop  ? &quot;&auto_crop=1&quot; : ”) }"
func ImageXData(Url string) string {
	return fmt.Sprintf(`{ isDoublePage: false, imageUrl: '%s' + ($store.global.autoCrop?"&auto_crop=1":'')}`, Url)
}

func MainArea(s *state.GlobalState, book *model.Book) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var2 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var2 == nil {
			templ_7745c5c3_Var2 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<div id=\"mouseMoveArea\" class=\"flex flex-col items-start justify-start m-0 p-0 w-full h-full bg-base-100\" :class=\"(theme.toString() ===&#39;light&#39;||theme.toString() ===&#39;dark&#39;||theme.toString() ===&#39;retro&#39;||theme.toString() ===&#39;lofi&#39;||theme.toString() ===&#39;nord&#39;) ? ($store.global.bgPattern !== &#39;none&#39;?$store.global.bgPattern+&#39; bg-base-300&#39;:&#39;bg-base-300&#39;):($store.global.bgPattern !== &#39;none&#39;?$store.global.bgPattern:&#39;&#39;)\"><!-- 漫画显示区域 + sliderContainer --><div id=\"manga_area\" class=\"manga_area w-full h-full flex justify-center item-start overflow-hidden flex-row m-0 p-0\"><div id=\"slider\" class=\"flex transition-transform duration-300 ease-out w-full h-full justify-center item-start\"><!-- 屏幕左边的图片 --><div id=\"left-slide\" draggable=\"false\" class=\"slide w-full h-full flex justify-center item-start absolute\"><!-- 内容将在JS中动态设置 --></div><div id=\"middle-slide\" class=\"slide w-full h-full flex justify-center item-start\"><!-- 课题：给图片设置 max-h-fit 可以使其顶部对齐，但是safari不兼容此用法，原因未知 --><img id=\"Single-NowImage\" :alt=\"\" x-show=\"!$store.flip.doublePageMode\" src=\"\" draggable=\"false\" :class=\"$store.global.isPortrait? &#39;object-contain w-auto  max-w-full h-screen&#39;:&#39;object-contain h-screen w-auto max-w-full&#39;\"><!-- 双页模式+日漫模式--><div x-show=\"$store.flip.doublePageMode\" class=\"manga_area flex flex-row w-full h-screen m-0 p-0 justify-center-safe item-start\"><!-- 双页模式-当前屏幕-左页 --><img id=\"Double-NowImage-Left\" alt=\"\" draggable=\"false\" x-show=\"$store.flip.nowPageNum &lt; $store.flip.allPageNum\" src=\"\" class=\"select-none object-contain m-0 max-w-1/2 w-auto h-auto max-h-screen grow-0\"><!-- 双页模式-当前屏幕-右页 --><img id=\"Double-NowImage-Right\" alt=\"\" src=\"\" draggable=\"false\" class=\"select-none object-contain m-0 max-w-1/2 w-auto max-h-screen grow-0\"></div></div><!-- 屏幕右边的图片--><div id=\"right-slide\" draggable=\"false\" class=\"slide w-full h-full flex justify-center item-start absolute\"><!-- 内容将在JS中动态设置 --></div></div></div>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = StepsRangeArea().Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 2, "<!-- 屏幕左下角的灰色页码--><div x-show=\"$store.flip.showPageNum\" class=\"fixed bottom-2 left-2 text-gray-500 text-sm pointer-events-none z-10\" x-text=\"$store.flip.nowPageNum+&#39;/&#39;+$store.flip.allPageNum\"></div></div>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templ.Raw("<style>"+assets.GetFileStr("script/flip.css")+"</style>").Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 3, "<style>\n\t\t/* 滑动切换相关样式 */\n\t\t#manga_area {\n\t\t\twill-change: transform; /* 优化动画性能 */\n\t\t\ttouch-action: pan-y; /* 允许垂直滚动，但水平滑动会被捕获 */\n\t\t}\n\t\t#slider {\n            user-select: none; /* 防止文本选择 */\n\t\t}\n\t\t\n\t\t.slide {\n\t\t\tflex-shrink: 0;\n\t\t\ttransform: translateX(0);\n\t\t}\n\t\t\n\t\t/* 基本位置设置，会通过JavaScript动态调整 */\n\t\t#left-slide {\n\t\t\ttransform: translateX(-100%);\n\t\t}\n\t\t\n\t\t#middle-slide {\n\t\t\ttransform: translateX(0);\n\t\t}\n\t\t\n\t\t#right-slide {\n\t\t\ttransform: translateX(100%);\n\t\t}\n\t</style>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

var _ = templruntime.GeneratedTemplate
