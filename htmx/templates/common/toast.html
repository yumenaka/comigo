<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <title>Toast 组件示例</title>
    <!-- 引入 Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="flex items-center justify-center min-h-screen bg-gray-100">

    <!-- Toast 容器 -->
    <div id="toast-container" class="fixed top-5 right-5 space-y-2 z-50"></div>

    <!-- 触发 Toast 的按钮（用于演示） -->
    <button id="show-toast" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">
        显示 Toast
    </button>

    <!-- 引入 JavaScript -->
    <script>
        // 获取 Toast 容器和按钮
        const toastContainer = document.getElementById('toast-container');
        const showToastBtn = document.getElementById('show-toast');

        // 生成随机 ID（用于唯一标识每个 Toast）
        function generateId() {
            return '_' + Math.random().toString(36).substr(2, 9);
        }

        // 创建并显示 Toast
        function showToast(message, type = 'info') {
            const id = generateId();

            // 设置不同类型的样式
            let bgColor;
            switch (type) {
                case 'success':
                    bgColor = 'bg-green-500';
                    break;
                case 'error':
                    bgColor = 'bg-red-500';
                    break;
                case 'warning':
                    bgColor = 'bg-yellow-500';
                    break;
                default:
                    bgColor = 'bg-blue-500';
            }

            // 创建 Toast 元素
            const toast = document.createElement('div');
            toast.id = id;
            toast.className = `flex items-center ${bgColor} text-white px-4 py-3 rounded shadow-lg transition transform duration-300 ease-in-out`;

            // Toast 内容
            toast.innerHTML = `
        <span class="flex-1">${message}</span>
        <button class="ml-4 text-white focus:outline-none">&times;</button>
      `;

            // 添加到 Toast 容器
            toastContainer.appendChild(toast);

            // 自动消失的定时器
            const timeout = setTimeout(() => {
                removeToast(id);
            }, 5000);

            // 点击关闭按钮时移除 Toast
            toast.querySelector('button').addEventListener('click', () => {
                clearTimeout(timeout);
                removeToast(id);
            });
        }

        // 移除 Toast
        function removeToast(id) {
            const toast = document.getElementById(id);
            if (toast) {
                // 添加淡出动画
                toast.classList.add('opacity-0', 'translate-x-4');
                // 动画完成后从 DOM 中移除
                toast.addEventListener('transitionend', () => {
                    toast.remove();
                });
            }
        }

        // 绑定按钮点击事件
        showToastBtn.addEventListener('click', () => {
            // 你可以根据需要更改 Toast 的类型和消息
            const types = ['info', 'success', 'error', 'warning'];
            const messages = [
                '这是一个信息提示。',
                '操作成功完成！',
                '发生错误，请重试。',
                '注意检查您的输入。'
            ];
            const randomIndex = Math.floor(Math.random() * types.length);
            showToast(messages[randomIndex], types[randomIndex]);
        });

        // 示例：页面加载时显示一个默认的 Toast
        document.addEventListener('DOMContentLoaded', () => {
            showToast('欢迎使用 Toast 组件示例！', 'info');
        });
    </script>
</body>

</html>